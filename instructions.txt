HWD API - Postman Testing Instructions

Prerequisites
- Backend running at http://localhost:4000
- MySQL (XAMPP) running if you switched to MySQL

1) Create a Postman Collection and Environment
- Environment: HWD Local
  - baseUrl = http://localhost:4000/api
  - token = (leave blank; will populate after login)
- Collection: HWD API
  - Authorization: Bearer Token → Token = {{token}}

2) Auth - Login
- POST {{baseUrl}}/auth/login
- Body (JSON):
{
  "username": "admin",
  "password": "admin123"
}
- Copy token from response → set env variable "token".

3) Health Check (optional)
- GET {{baseUrl}}/health → expect { ok: true }

4) Events
- GET {{baseUrl}}/events
- POST {{baseUrl}}/events
  Body (JSON):
  {
    "event_type": "Mental Health Session",
    "event_name": "Mindfulness 101",
    "event_date": "2025-10-15"
  }
- POST {{baseUrl}}/events/upload
  Body: form-data → key=file (File) choose CSV/XLSX
  Columns: Event Type | Event Name | Event Date

5) Registrations
- GET {{baseUrl}}/registrations (optional param: event_id=1)
- POST {{baseUrl}}/registrations
  Body (JSON):
  {
    "employee_no": "E12345",
    "employee_name": "Juan Dela Cruz",
    "department": "ITD",
    "event_id": 1,
    "status": "Registered"
  }
- POST {{baseUrl}}/registrations/upload
  Body: form-data → key=file (File)
  Columns: Employee No | Employee Name | Department | Event ID | Status

6) Attendance
- GET {{baseUrl}}/attendance (optional param: event_id=1)
- POST {{baseUrl}}/attendance
  Body (JSON):
  {
    "employee_no": "E12345",
    "employee_name": "Juan Dela Cruz",
    "department": "ITD",
    "mode_of_attendance": "Onsite",
    "event_id": 1
  }
- POST {{baseUrl}}/attendance/upload
  Body: form-data → key=file (File)
  Columns: Employee No | Employee Name | Department | Mode of Attendance | Event ID

7) Reports
- GET {{baseUrl}}/reports/event-summary/1
- GET {{baseUrl}}/reports/overall

Troubleshooting
- 401 Unauthorized: Ensure token is set and collection uses Bearer Token.
- 400 Bad Request: Validate field names and date format YYYY-MM-DD.
- File Uploads: Use form-data, key must be "file"; accepts .csv, .xlsx, .xls.
- MySQL: Verify DB_* env values and DB exists; service listening on 127.0.0.1:3306.

Appendix: CSV headers
- Events.csv: Event Type, Event Name, Event Date
- Registration.csv: Employee No, Employee Name, Department, Event ID, Status
- Attendance.csv: Employee No, Employee Name, Department, Mode of Attendance, Event ID
